(()=>{var r="better-cloud-search_max-search-limit";function l(){return parseInt(localStorage.getItem(r))||5}function d(e){localStorage.setItem(r,e.toString())}plugin.onConfig(e=>{let t=document.createElement("div"),a=document.createElement("span"),o=e.makeInput(l(),{oninput:n=>{d(n.target.value)}});return a.innerText="Max Search Limit: ",t.appendChild(a),t.appendChild(o),t});plugin.onLoad(()=>{window.loadmaxlimit=function(){return l()},window.cloudsearch=function(e){return new Promise((t,a)=>{function o(i){console.log(`Resolved cloudsearch(arg: ${e}):`,i),t(i)}let n=window.ctl.cloudListManager.NI.uid;var c={data:{uid:n,offset:0,total:!0,limit:200,keyword:e},ext:{},key:`track_cloud_search-${n}-${e}`,limit:200,offset:0,onload:o,rkey:`r-track_cloud_search-${n}-${e}-0-200`};window.ctl.player.AJ[0].MF.$i(c),window.ctl.player.AJ[0].MF.Ge("doloadlist",c)})},betterncm.app.getSucceededHijacks().then(e=>{e.includes("BetterCloudSearch::")||console.error("Failed to hijack BetterCloudSearch::")})});})();
